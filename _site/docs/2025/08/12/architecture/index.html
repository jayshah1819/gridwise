<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Gridwise Architecture | Gridwise</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Gridwise Architecture" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Overview of Gridwise’s core architecture designed to deliver best-in-class WebGPU compute performance with minimal code." />
<meta property="og:description" content="Overview of Gridwise’s core architecture designed to deliver best-in-class WebGPU compute performance with minimal code." />
<link rel="canonical" href="http://localhost:4000/gridwise/docs/2025/08/12/architecture/" />
<meta property="og:url" content="http://localhost:4000/gridwise/docs/2025/08/12/architecture/" />
<meta property="og:site_name" content="Gridwise" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-08-12T00:00:00-04:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Gridwise Architecture" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-08-12T00:00:00-04:00","datePublished":"2025-08-12T00:00:00-04:00","description":"Overview of Gridwise’s core architecture designed to deliver best-in-class WebGPU compute performance with minimal code.","headline":"Gridwise Architecture","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/gridwise/docs/2025/08/12/architecture/"},"url":"http://localhost:4000/gridwise/docs/2025/08/12/architecture/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/gridwise/docs/assets/css/style.css"></head>
<body><header class="site-header" role="banner">
  <div class="wrapper"><a class="site-title" rel="author" href="/gridwise/%20/">Gridwise</a><nav class="site-nav">
      <input type="checkbox" id="nav-trigger" class="nav-trigger" />
      <label for="nav-trigger">
        <span class="menu-icon">
          <svg viewBox="0 0 18 15" width="18px" height="15px">
            <path
              d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.484C18,14.304,17.335,14.969,16.516,14.969H1.484 C0.665,14.969,0,14.304,0,13.484l0,0C0,12.665,0.665,12,1.484,12h15.032C17.335,12,18,12.665,18,13.484L18,13.484z" />
          </svg>
        </span>
      </label>

      <div class="trigger"><a class="button" href="/gridwise/%20/examples-guide/">Example Docs</a>
        <a class="button" href="/gridwise/%20/">Read Docs</a>
        <a class="button" href="javascript:void(0)" onclick="launchExample()">Try Interactive Example</a>
      </div>
    </nav></div>
</header>

<script>
  function launchExample() {
    window.open('https://gridwise-webgpu.github.io/gridwise/examples/scan_pane_example.html', '_blank');
  }
</script><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Gridwise Architecture</h1>
    <div class="post-meta">
      <time class="dt-published" datetime="2025-08-12T00:00:00-04:00" itemprop="datePublished">
        Aug 12, 2025
      </time>
    </div>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>The primary goal of Gridwise is to deliver best-in-class performance on WebGPU compute primitives while minimizing the amount of code that must be written by the library user. Ideally, a Gridwise user will declare and then execute a primitive and Gridwise will handle all low-level details of setting up and calling the necessary WebGPU primitives.</p>

<h2 id="gridwise-abstraction">Gridwise Abstraction</h2>

<h3 id="primitive">Primitive</h3>

<p>The primary abstraction in Gridwise is a <code class="language-plaintext highlighter-rouge">Primitive</code>. Primitives are instances of a primitive-specific subclass of a JavaScript <code class="language-plaintext highlighter-rouge">Primitive</code> class. They have an <code class="language-plaintext highlighter-rouge">execute</code> member function, and the typical usage is to instantiate a primitive using <code class="language-plaintext highlighter-rouge">new()</code> and then call <code class="language-plaintext highlighter-rouge">execute()</code> on that primitive. Both instantiation and execution have numerous options. As an example, let’s look at a scan primitive, which is an instance of the <code class="language-plaintext highlighter-rouge">DLDFScan</code> class (“decoupled-lookback, decoupled-fallback scan”):</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">datatype</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">u32</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">dldfscanPrimitive</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DLDFScan</span><span class="p">({</span>
  <span class="nx">device</span><span class="p">,</span>
  <span class="na">binop</span><span class="p">:</span> <span class="k">new</span> <span class="nx">BinOpAdd</span><span class="p">({</span> <span class="nx">datatype</span> <span class="p">}),</span>
  <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">exclusive</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// "exclusive" is the default</span>
  <span class="nx">datatype</span><span class="p">,</span>
<span class="p">});</span>

<span class="k">await</span> <span class="nx">dldfscanPrimitive</span><span class="p">.</span><span class="nx">execute</span><span class="p">({</span>
  <span class="nx">inputBuffer</span><span class="p">,</span>
  <span class="nx">outputBuffer</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div></div>

<p>This particular primitive is parameterized by its datatype (in this case, “u32”), by the binary operation (“binop”) performed by the scan (in this case, addition on u32 data), and by the scan operation (exclusive or inclusive).</p>

<p>When the scan is actually executed, its arguments are buffers that store its input and output. This particular primitive has named arguments of an input buffer named <code class="language-plaintext highlighter-rouge">inputBuffer</code> and an output buffer named <code class="language-plaintext highlighter-rouge">outputBuffer</code>. These buffers can be WebGPU buffers of type <code class="language-plaintext highlighter-rouge">GPUBuffer</code> but can also be <code class="language-plaintext highlighter-rouge">Buffer</code>s, described next.</p>

<p>The primitive performs all necessary WebGPU operations, including (optionally) setting up an encoder, building up and setting WebGPU layouts and pipelines, running the pipeline, and optionally recording GPU-side or CPU-side timing. It also caches WebGPU layouts and pipelines to avoid the expense of recreating them if they have already been created.</p>

<h3 id="buffer">Buffer</h3>

<p>One of the challenges of writing a primitive library is handling data, which may be stored on the CPU (in a JavaScript typed array) or on the GPU (as a WebGPU GPUBuffer). Gridwise’s <code class="language-plaintext highlighter-rouge">Buffer</code> class attempts to abstract away the details of separately managing CPU and GPU buffer data structures with one unified data structure that stores, and moves data between, both. This data structure has grown organically to handle many use cases and deserves more focus by future developers as a principled data structure in WebGPU programming.</p>

  </div>

  <a class="u-url" href="/gridwise/docs/2025/08/12/architecture/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
    <data class="u-url" href="/gridwise/%20/"></data>

    <div class="wrapper">
        <h2 class="footer-heading">Gridwise</h2>

        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
                <ul class="contact-list">
                    <li class="p-name">Gridwise</li><li><a class="u-email" href="mailto:jowens@ece.ucdavis.edu">jowens@ece.ucdavis.edu</a></li></ul>
            </div>

            <div class="footer-col footer-col-3">
                <p>WebGPU compute primitives in JavaScript</p>
            </div>
        </div>

    </div>

</footer>
</body>

</html>
